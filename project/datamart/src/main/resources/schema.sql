CREATE TABLE SCHOOLS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  NAME varchar(50) DEFAULT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE FAMILY (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  FAMILY_NAME varchar(50) NOT NULL,
  HOME_LOCATION varchar(20) DEFAULT NULL,
  ALIVE_PARENTS int DEFAULT NULL,
  MARTIAL_STATUS BIT DEFAULT NULL,
  PRIMARY_CARETAKER varchar(20) DEFAULT NULL,
  HOME_SUB_LOCATION varchar(20) DEFAULT NULL,
  HOME_CLUSTER_ID varchar(10) DEFAULT NULL,
  MAIN_CONTACT_NAME varchar(20) DEFAULT NULL,
  MOBLIE varchar(20) DEFAULT NULL,
  IS_PHONE_OWNER BIT DEFAULT NULL,
  PHONE_OWNER_NAME varchar(20) DEFAULT NULL,
  NUM_KESHO_STUDENTS_AT_ADDRS int DEFAULT NULL,
  FAMILY_PROFILE LONGVARCHAR,
  NUM_ADULTS_AT_ADDRS int DEFAULT NULL,
  NUM_NON_KESHO_STUDENTS_AT_ADDRS int DEFAULT NULL,
  NUM_OF_WIVES int DEFAULT NULL,
  PRIMARY KEY (ID)
);

DROP TABLE IF EXISTS SCHOOLS;
CREATE TABLE SCHOOLS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  NAME varchar(50) DEFAULT NULL,
  UNIQUE (NAME),
  PRIMARY KEY (ID)
);

CREATE TABLE SPONSORS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  NAME varchar(20) DEFAULT NULL,
  SURNAME varchar(20) DEFAULT NULL,
  ADDRESS_LINE_1 varchar(50) DEFAULT NULL,
  ADDRESS_LINE_2 varchar(50) DEFAULT NULL,
  ADDRESS_LINE_3 varchar(50) DEFAULT NULL,
  COUNTY varchar(20) DEFAULT NULL,
  POSTCODE varchar(10) DEFAULT NULL,
  COUNTRY varchar(20) DEFAULT NULL,
  PAYEE_TYPE varchar(15) DEFAULT NULL,
  HOW_SPONSOR_FOUND_US varchar(15) DEFAULT NULL,
  ANONYMOUS bit(1) DEFAULT 0,
  ACTIVE bit(1) DEFAULT 0,
  START_DATE date DEFAULT NULL,
  END_DATE date DEFAULT NULL,
  LEVEL_OF_PARTICIPATION varchar(15) DEFAULT NULL,
  PHONE varchar(20) DEFAULT NULL,
  EMAIL1 varchar(30) DEFAULT NULL,
  EMAIL2 varchar(30) DEFAULT NULL,
  PRIMARY KEY (ID)
);

CREATE TABLE STUDENTS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  NAME varchar(20) DEFAULT NULL,
  GENDER varchar(1) DEFAULT NULL,
  YEAR_OF_BIRTH int DEFAULT NULL,
  DISABILITY BIT DEFAULT NULL,
  CONTACT_NUMBER varchar(15) DEFAULT NULL,
  HOME_LOCATION varchar(20) DEFAULT NULL,
  CURRENT_STUDENT BIT DEFAULT NULL,
  STUDENT_STATUS varchar(55) DEFAULT NULL,
  SPONSORED BIT DEFAULT NULL,
  SPONSORSHIP_STATUS varchar(50) DEFAULT NULL,
  EMAIL varchar(40) DEFAULT NULL,
  FACEBOOK varchar(40) DEFAULT NULL,
  START_DATE date DEFAULT NULL,
  LEVEL_OF_SUPPORT varchar(20) DEFAULT NULL,
  TOPUP_NEEDED BIT DEFAULT NULL,
  SHORTFALL int DEFAULT NULL,
  ALUMNI_MEMBER int DEFAULT NULL,
  FAMILY_ID BIGINT NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT FAMILY_STUDENT_FK FOREIGN KEY (FAMILY_ID) REFERENCES FAMILY (ID)
);

CREATE TABLE PAYMENT_ARRANGEMENTS (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  SPONSOR_ID BIGINT NOT NULL,
  STUDENT_ID BIGINT NOT NULL,
  START_DATE date NOT NULL,
  END_DATE date DEFAULT NULL,
  TYPE varchar(20) NOT NULL,
  AMOUNT decimal(19,6) NOT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT PAYMENT_ARRANGEMENTS_ibfk_1 FOREIGN KEY (SPONSOR_ID) REFERENCES SPONSORS (ID),
  CONSTRAINT PAYMENT_ARRANGEMENTS_ibfk_2 FOREIGN KEY (STUDENT_ID) REFERENCES STUDENTS (ID)
);

CREATE TABLE EDUCATION_HISTORY (
  ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1, INCREMENT BY 1) NOT NULL,
  STUDENT_ID BIGINT NOT NULL,
  SCHOOL_ID BIGINT NOT NULL,
  LEVEL varchar(20) DEFAULT NULL,
  CLASS int DEFAULT NULL,
  START_DATE date NOT NULL,
  COURSE varchar(15) DEFAULT NULL,
  SECONDARY_LEVEL_1 varchar(40) DEFAULT NULL,
  SECONDARY_LEVEL_2 varchar(40) DEFAULT NULL,
  COMMENTS varchar(100) DEFAULT NULL,
  PRIMARY KEY (ID),
  CONSTRAINT EDUCATION_HISTORY_ibfk_1 FOREIGN KEY (STUDENT_ID) REFERENCES STUDENTS (ID),
  CONSTRAINT EDUCATION_HISTORY_ibfk_2 FOREIGN KEY (SCHOOL_ID) REFERENCES SCHOOLS (ID)
);