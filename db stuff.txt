Sally Crompton
password

need to create user for local host full access

create database kesho;
grant all privileges on kesho.* to admin@localhost;

CREATE TABLE STUDENTS (
  ID bigint(20) NOT NULL AUTO_INCREMENT,
  NAME varchar(20) DEFAULT NULL,
  FAMILY_ID bigint NOT NULL,
  GENDER char(1) DEFAULT NULL,
  YEAR_OF_BIRTH smallint(6) unsigned DEFAULT NULL COMMENT 'YYYY',
  DISABILITY tinyint(1) unsigned DEFAULT NULL,
  CONTACT_NUMBER varchar(15) DEFAULT NULL,
  HOME_LOCATION varchar(20) DEFAULT NULL,
  CURRENT_STUDENT tinyint(1) unsigned DEFAULT NULL COMMENT 'YES/NO',
  STUDENT_STATUS varchar(10) DEFAULT NULL COMMENT 'Map codes to enum with text',
  SPONSORED tinyint(1) unsigned DEFAULT NULL COMMENT 'Yes / No / On hold',
  SPONSORSHIP_STATUS varchar(10) DEFAULT NULL,
  EMAIL varchar(40) DEFAULT NULL,
  FACEBOOK varchar(40) DEFAULT NULL,
  START_DATE date DEFAULT NULL,
  LEVEL_OF_SUPPORT varchar(20) DEFAULT NULL COMMENT 'Kesho agreed level of Financial Support',
  TOPUP_NEEDED tinyint(1) unsigned DEFAULT NULL,
  SHORTFALL int(10) unsigned DEFAULT NULL,
  ALUMNI_MEMBER int(10) unsigned DEFAULT NULL,
  PRIMARY KEY (ID),
  foreign key FAMILY_STUDENT_FK (FAMILY_ID) REFERENCES FAMILY(ID)

)

Alumni Member	Yes    No    n/a

 CREATE TABLE `FAMILY` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `FAMILY_NAME` varchar(50) NOT NULL,
  `HOME_LOCATION` varchar(20) DEFAULT NULL,
  `ALIVE_PARENTS` tinyint(1) unsigned DEFAULT NULL,
  `MARTIAL_STATUS` tinyint(10) DEFAULT NULL,
  `PRIMARY_CARETAKER` varchar(20) DEFAULT NULL,
  `HOME_SUB_LOCATION` varchar(20) DEFAULT NULL,
  `HOME_CLUSTER_ID` varchar(10) DEFAULT NULL,
  `MAIN_CONTACT_NAME` varchar(20) DEFAULT NULL,
  `MOBLIE` varchar(20) DEFAULT NULL,
  `IS_PHONE_OWNER` tinyint(1) DEFAULT NULL,
  `PHONE_OWNER_NAME` varchar(20) DEFAULT NULL,
  `NUM_KESHO_STUDENTS_AT_ADDRS` tinyint(4) DEFAULT NULL,
  `FAMILY_PROFILE` VARCHAR(300),
  `NUM_ADULTS_AT_ADDRS` tinyint(1) DEFAULT NULL,
  `NUM_NON_KESHO_STUDENTS_AT_ADDRS` tinyint(4) DEFAULT NULL,
  `NUM_OF_WIVES` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=latin1

create table EDUCATION_HISTORY (
`ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `STUDENT_ID` bigint(20) NOT NULL,
  `SCHOOL_ID` bigint(20) NOT NULL,
  `LEVEL` varchar(20) DEFAULT NULL,
  `CLASS` int(10) unsigned DEFAULT NULL,
  `START_DATE` date NOT NULL,
  `COURSE` varchar(15) DEFAULT NULL,
  `SECONDARY_LEVEL_1` varchar(40) DEFAULT NULL,
  `SECONDARY_LEVEL_2` varchar(40) DEFAULT NULL,
  `COMMENTS` varchar(100) DEFAULT NULL,
	foreign key EDUCATION_HISTORY_STUDENTS_FK (STUDENT_ID) REFERENCES STUDENTS(ID),
	foreign key EDUCATION_HISTORY_SCHOOL_FK (SCHOOL_ID) REFERENCES SCHOOLS(ID)
)

CREATE TABLE `SPONSORS` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(30) DEFAULT NULL,
  `SURNAME` varchar(20) DEFAULT NULL,
  `ADDRESS_LINE_1` varchar(50) DEFAULT NULL,
  `ADDRESS_LINE_2` varchar(50) DEFAULT NULL,
  `ADDRESS_LINE_3` varchar(50) DEFAULT NULL,
  `COUNTY` varchar(20) DEFAULT NULL,
  `POSTCODE` varchar(10) DEFAULT NULL,
  `COUNTRY` varchar(20) DEFAULT NULL,
  `PAYEE_TYPE` varchar(15) DEFAULT NULL,
  `HOW_SPONSOR_FOUND_US` varchar(15) DEFAULT NULL,
  `ANONYMOUS` bit(1) DEFAULT b'0',
  `ACTIVE` bit(1) DEFAULT b'0',
  `START_DATE` date DEFAULT NULL,
  `END_DATE` date DEFAULT NULL,
  `LEVEL_OF_PARTICIPATION` varchar(15) DEFAULT NULL,
  `COMMENTS` varchar(100) DEFAULT NULL,
  `EMAIL1` varchar(45) DEFAULT NULL,
  `EMAIL2` varchar(45) DEFAULT NULL,
  `PHONE` varchar(20) DEFAULT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1;


CREATE TABLE `CONTACT_DETAIL` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CONTACT_ID` bigint(20) DEFAULT NULL,
  `TYPE` char(1) DEFAULT NULL,
  `VALUE` varchar(40) DEFAULT NULL,
  `comments` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `CONTACT_DETAIL_CONTACT_FK` (`CONTACT_ID`),
  CONSTRAINT `CONTACT_DETAIL_ibfk_1` FOREIGN KEY (`CONTACT_ID`) REFERENCES `CONTACT` (`ID`)
);


create table PAYMENT_ARRANGEMENTS (
  ID bigint primary key AUTO_INCREMENT,
  `SPONSOR_ID` bigint(20) NOT NULL,
  `STUDENT_ID` bigint(20) NOT NULL,
  `START_DATE` date NOT NULL,
  `END_DATE` date DEFAULT NULL,
  `TYPE` varchar(20) NOT NULL,
  `AMOUNT` decimal(19,6) NOT NULL,
	foreign key PAYMENT_ARRANGEMENTS_SPONSOR_FK (SPONSOR_ID) REFERENCES SPONSORS(ID),
	foreign key PAYMENT_ARRANGEMENTS_STUDENT_FK (STUDENT_ID) REFERENCES STUDENTS(ID)
)

CREATE TABLE `SCHOOLS` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(50) DEFAULT NULL,
  `ADDRESS_LINE1` varchar(40) DEFAULT NULL,
  `ADDRESS_LINE2` varchar(30) DEFAULT NULL,
  `ADDRESS_LINE3` varchar(30) DEFAULT NULL,
  `COUNTY` varchar(20) DEFAULT NULL,
  `COUNTRY` varchar(20) DEFAULT NULL,
  `POSTCODE` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  UNIQUE KEY `unique_school_name` (`NAME`)
) ENGINE=InnoDB AUTO_INCREMENT=10197 DEFAULT CHARSET=latin1;


CREATE TABLE `CONTACT_DETAIL` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CONTACT_ID` bigint(20) DEFAULT NULL,
  `TYPE` char(1) DEFAULT NULL,
  `VALUE` varchar(40) DEFAULT NULL,
  `comments` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `CONTACT_DETAIL_CONTACT_FK` (`CONTACT_ID`),
  CONSTRAINT `CONTACT_DETAIL_ibfk_1` FOREIGN KEY (`CONTACT_ID`) REFERENCES `CONTACT` (`ID`)
) ENGINE=InnoDB AUTO_INCREMENT=165 DEFAULT CHARSET=latin1;


