Sally Crompton
password

need to create user for local host full access

create database kesho;
grant all privileges on kesho.* to admin@localhost;

create table FAMILY (
  ID bigint primary key AUTO_INCREMENT,
  FAMILY_NAME varchar(50) NOT NULL,
  HOME_LOCATION varchar(20) DEFAULT NULL,
  LIVE_PARENTS smallint(6) unsigned DEFAULT NULL,
  MARTIAL_STATUS varchar(10) DEFAULT NULL,
  PRIMARY_CARETAKER varchar(20) DEFAULT NULL
)

CREATE TABLE STUDENTS (
  ID bigint(20) NOT NULL AUTO_INCREMENT,
  NAME varchar(20) DEFAULT NULL,
  FAMILY_ID bigint NOT NULL,
  GENDER char(1) DEFAULT NULL,
  YEAR_OF_BIRTH smallint(6) unsigned DEFAULT NULL COMMENT 'YYYY',
  DISABILITY tinyint(1) unsigned DEFAULT NULL,
  CONTACT_NUMBER varchar(15) DEFAULT NULL,
  HOME_LOCATION varchar(20) DEFAULT NULL,
  CURRENT_STUDENT tinyint(1) unsigned DEFAULT NULL COMMENT 'YES/NO',
  STUDENT_STATUS varchar(10) DEFAULT NULL COMMENT 'Map codes to enum with text',
  SPONSORED tinyint(1) unsigned DEFAULT NULL COMMENT 'Yes / No / On hold',
  SPONSORSHIP_STATUS varchar(10) DEFAULT NULL,
  EMAIL varchar(40) DEFAULT NULL,
  FACEBOOK varchar(40) DEFAULT NULL,
  START_DATE date DEFAULT NULL,
  LEVEL_OF_SUPPORT varchar(20) DEFAULT NULL COMMENT 'Kesho agreed level of Financial Support',
  TOPUP_NEEDED tinyint(1) unsigned DEFAULT NULL,
  SHORTFALL int(10) unsigned DEFAULT NULL,
  ALUMNI_MEMBER int(10) unsigned DEFAULT NULL,
  PRIMARY KEY (ID),
  foreign key FAMILY_STUDENT_FK (FAMILY_ID) REFERENCES FAMILY(ID)

)

Alumni Member	Yes    No    n/a

create table SCHOOLS (
  ID bigint primary key AUTO_INCREMENT,
  NAME varchar(50),
  UNIQUE KEY unique_school_name (NAME)
)

create table EDUCATION_HISTORY (
  ID bigint primary key AUTO_INCREMENT,
  STUDENT_ID bigint NOT NULL,
  SCHOOL_ID bigint NOT NULL,
  LEVEL varchar(20) DEFAULT NULL,
  CLASS int(10) unsigned DEFAULT NULL,
  START_DATE DATE NOT NULL,
  COURSE varchar(15) DEFAULT NULL,
  SECONDARY_LEVEL_1 varchar(40) DEFAULT NULL,
  SECONDARY_LEVEL_2 varchar(40) DEFAULT NULL,
  COMMENTS varchar(100) DEFAULT NULL,
	foreign key EDUCATION_HISTORY_STUDENTS_FK (STUDENT_ID) REFERENCES STUDENTS(ID),
	foreign key EDUCATION_HISTORY_SCHOOL_FK (SCHOOL_ID) REFERENCES SCHOOLS(ID)  
)

create table SPONSORS (
  ID bigint primary key AUTO_INCREMENT,
  NAME varchar(20),
  SURNAME varchar(20),
  ADDRESS_LINE_1 varchar(50),
  ADDRESS_LINE_2 varchar(50),
  ADDRESS_LINE_3 varchar(50),
  COUNTY varchar(20),
  POSTCODE varchar(10),
  COUNTRY varchar(20),
    PAYEE_TYPE varchar(15),
    HOW_SPONSOR_FOUND_US varchar(15),
    ANONYMOUS BIT DEFAULT 0,
    ACTIVE BIT DEFAULT 0,
  START_DATE date DEFAULT NULL,
  END_DATE date DEFAULT NULL,
  LEVEL_OF_PARTICIPATION varchar(15) DEFAULT NULL,
  PHONE varchar(20) DEFAULT NULL,
  EMAIL1 varchar(30) DEFAULT NULL,
    EMAIL2 varchar(30) DEFAULT NULL,
)


create table PAYMENT_ARRANGEMENTS (
  ID bigint primary key AUTO_INCREMENT,
  SPONSOR_ID bigint NOT NULL,
  STUDENT_ID bigint NOT NULL,
  START_DATE DATE NOT NULL,
  END_DATE DATE,
  TYPE varchar(20) NOT NULL,
  AMOUNT decimal(19,6) NOT NULL,
	foreign key PAYMENT_ARRANGEMENTS_SPONSOR_FK (SPONSOR_ID) REFERENCES SPONSORS(ID),
	foreign key PAYMENT_ARRANGEMENTS_STUDENT_FK (STUDENT_ID) REFERENCES STUDENTS(ID)
)



